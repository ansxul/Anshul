<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>To My Forever Valentine</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Inter:wght@300;400;600&family=Playfair+Display:ital,wght@0,700;1,400&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #ff4d6d;
            --secondary: #ff758f;
            --accent: #fff0f3;
        }

        /* Mobile specific fixes */
        body {
            font-family: 'Inter', sans-serif;
            background: #fff5f6;
            color: #4a1c24;
            overflow-x: hidden;
            user-select: none;
            -webkit-tap-highlight-color: transparent; /* Remove blue highlight on tap */
        }

        .font-cursive { font-family: 'Dancing Script', cursive; }
        .font-serif { font-family: 'Playfair Display', serif; }

        html { scroll-behavior: smooth; }

        /* Floating Background Hearts */
        .heart-bg {
            position: fixed;
            font-size: 20px;
            pointer-events: none;
            z-index: 0;
            opacity: 0.4;
            animation: float 10s linear infinite;
        }

        @keyframes float {
            0% { transform: translateY(110vh) rotate(0deg); }
            100% { transform: translateY(-10vh) rotate(360deg); }
        }

        /* Glassmorphism */
        .glass {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 20px;
        }

        .hero-bg {
            background: linear-gradient(135deg, #ff758f 0%, #ff4d6d 100%);
        }

        /* Animated Card */
        .envelope-wrapper {
            perspective: 1000px;
            cursor: pointer;
            touch-action: manipulation;
        }

        .envelope {
            position: relative;
            transition: transform 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            transform-style: preserve-3d;
        }

        .envelope.open {
            transform: rotateY(180deg);
        }

        /* Interactive Click Heart */
        .click-heart {
            position: absolute;
            pointer-events: none;
            z-index: 9999;
            filter: drop-shadow(0 0 5px rgba(255,77,109,0.5));
            animation: burst 1s ease-out forwards;
        }

        @keyframes burst {
            0% { transform: translate(-50%, -50%) scale(0.3) rotate(0deg); opacity: 1; }
            50% { opacity: 1; }
            100% { transform: translate(-50%, -200%) scale(1.8) rotate(20deg); opacity: 0; }
        }

        /* Moving Button Fix */
        #noBtn {
            transition: all 0.25s cubic-bezier(0.075, 0.82, 0.165, 1);
            z-index: 50;
            position: absolute;
            white-space: nowrap;
        }

        /* Music Button Styling */
        .music-control {
            position: fixed;
            bottom: 25px;
            right: 25px; /* Moved to right for better thumb access on mobile */
            z-index: 1000;
            background: white;
            border: 2px solid #ff4d6d;
            border-radius: 50%;
            width: 56px;
            height: 56px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(255, 77, 109, 0.3);
            touch-action: manipulation;
        }

        .memory-card {
            transition: all 0.5s ease;
        }

        /* Hide horizontal scroll for mobile dodge */
        #proposal {
            position: relative;
            overflow: hidden;
            min-height: 450px;
        }

        ::-webkit-scrollbar { width: 4px; }
        ::-webkit-scrollbar-thumb { background: #ff758f; border-radius: 10px; }
    </style>
</head>
<body>

    <div id="hearts-container"></div>

    <!-- Audio Element -->
    <audio id="bgMusic" loop src="Deewaana Deewaana-2-Downringtone.com.mp3"></audio>

    <!-- Music Toggle Button -->
    <button class="music-control" id="musicToggle" onclick="toggleMusic(event)">
        <span id="musicIcon" style="font-size: 24px;">üîá</span>
    </button>

    <!-- Hero Section -->
    <section class="relative min-h-screen flex items-center justify-center text-white hero-bg overflow-hidden p-6">
        <div class="absolute inset-0 opacity-20">
            <svg class="w-full h-full" viewBox="0 0 100 100" preserveAspectRatio="none">
                <path d="M0,100 C30,40 70,40 100,100 Z" fill="white"></path>
            </svg>
        </div>
        
        <div class="relative z-10 text-center space-y-6">
            <h2 class="text-xl md:text-3xl font-light tracking-widest uppercase animate-pulse">Happy Valentine's Day</h2>
            <h1 class="text-5xl md:text-8xl font-cursive mb-4 drop-shadow-lg">My One & Only</h1>
            <p class="text-base md:text-xl font-light max-w-sm md:max-w-lg mx-auto italic opacity-90 px-4">
                "Every love story is beautiful, but ours is my favorite."
            </p>
            <div class="pt-8">
                <a href="#letter" class="bg-white text-pink-600 px-10 py-4 rounded-full font-semibold shadow-xl hover:bg-pink-50 transition transform active:scale-95 inline-block">
                    Open Your Surprise
                </a>
            </div>
        </div>
    </section>

    <!-- Why I Love You Section -->
    <section class="py-20 px-6 max-w-6xl mx-auto">
        <div class="text-center mb-12">
            <h2 class="text-3xl md:text-4xl font-serif text-gray-800 mb-4">Why I Love You</h2>
            <div class="w-16 h-1 bg-pink-400 mx-auto rounded-full"></div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <div class="glass p-8 text-center memory-card shadow-sm">
                <div class="text-4xl mb-4">‚ú®</div>
                <h3 class="text-xl font-bold mb-2">Your Smile</h3>
                <p class="text-gray-600">The way your eyes light up when you're happy makes my entire world brighter.</p>
            </div>
            <div class="glass p-8 text-center memory-card shadow-sm">
                <div class="text-4xl mb-4">‚ù§Ô∏è</div>
                <h3 class="text-xl font-bold mb-2">Your Heart</h3>
                <p class="text-gray-600">Your kindness and the way you care for everyone around you inspires me every day.</p>
            </div>
            <div class="glass p-8 text-center memory-card shadow-sm">
                <div class="text-4xl mb-4">üåü</div>
                <h3 class="text-xl font-bold mb-2">Our Moments</h3>
                <p class="text-gray-600">Whether we're out on an adventure or just sitting on the couch, every second with you is a gift.</p>
            </div>
        </div>
    </section>

    <!-- Interactive Letter Section -->
    <section id="letter" class="py-20 bg-pink-50 px-6">
        <div class="max-w-2xl mx-auto text-center">
            <h2 class="text-3xl font-serif mb-12">A Little Note For You</h2>
            
            <div class="envelope-wrapper" onclick="toggleEnvelope(this)">
                <div class="envelope relative w-full h-80 md:h-96">
                    <!-- Envelope Closed -->
                    <div class="absolute inset-0 bg-pink-300 rounded-xl shadow-lg flex flex-col items-center justify-center">
                        <div class="text-white">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 mx-auto mb-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                            </svg>
                            <p class="font-bold tracking-wider uppercase text-sm">Tap to Open</p>
                        </div>
                    </div>
                    <!-- Letter content inside -->
                    <div class="absolute inset-0 bg-white rounded-xl shadow-2xl p-6 md:p-8 text-left flex flex-col justify-center transform scale-x-[-1]" style="backface-visibility: hidden; transform: rotateY(180deg);">
                        <h3 class="font-cursive text-2xl md:text-3xl text-pink-500 mb-2">Dearest [Her Name],</h3>
                        <p class="text-sm md:text-base text-gray-700 leading-relaxed mb-4">
                            Today is just another day that I get to tell you how much you mean to me. I wanted to build this little corner of the internet just for you, to remind you that you are loved, appreciated, and cherished.
                        </p>
                        <p class="text-sm md:text-base text-gray-700 leading-relaxed">
                            Thank you for being my partner, my best friend, and my home. I can't wait for all the Valentines we have yet to celebrate together.
                        </p>
                        <div class="mt-4 font-cursive text-xl md:text-2xl text-pink-500">
                            Forever Yours, <br>
                            [Your Name]
                        </div>
                    </div>
                </div>
            </div>
            <p class="mt-8 text-gray-500 text-sm italic">Tap the letter to read my heart</p>
        </div>
    </section>

    <!-- Question Section -->
    <section id="proposal" class="text-center py-20 min-h-[60vh] flex flex-col items-center justify-center relative bg-white px-4">
        <h2 class="font-cursive text-4xl md:text-7xl text-rose-600 mb-16 px-2">Will you be my Valentine?</h2>
        
        <div id="btn-container" class="relative w-full h-48 max-w-lg mx-auto flex items-center justify-center">
            <button id="yesBtn" onclick="acceptValentine()" class="px-10 py-4 bg-rose-500 text-white rounded-full font-bold text-xl shadow-lg active:scale-90 transition-all transform z-10">
                YES! üíñ
            </button>
            
            <button id="noBtn" onmouseover="moveButton()" onclick="moveButton()" class="px-10 py-4 bg-slate-200 text-slate-500 rounded-full font-bold text-xl active:bg-slate-300">
                No üôà
            </button>
        </div>

        <div id="success-msg" class="hidden mt-8 transform transition-all duration-700 opacity-0 scale-95 px-4 w-full">
            <div class="glass p-8 md:p-12 shadow-2xl inline-block border-2 border-rose-100 w-full max-w-md">
                <p class="text-3xl md:text-4xl font-cursive text-rose-600 mb-4">Yay! It's a date! ü•Ç</p>
                <p class="text-slate-600">I promise to make it the most magical day ever for you.</p>
                <div class="mt-6 text-4xl">üíùüåπüíç</div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="py-12 bg-white text-center border-t border-pink-100">
        <div class="flex justify-center space-x-4 mb-4">
            <span class="text-pink-400">‚ù§Ô∏è</span>
            <span class="text-pink-400">üåπ</span>
            <span class="text-pink-400">üíç</span>
        </div>
        <p class="text-gray-400 text-xs uppercase tracking-widest">Made with love for [Her Name] ‚Ä¢ 2024</p>
    </footer>

    <script>
        // 1. Background hearts
        function createBackgroundHeart() {
            const heart = document.createElement('div');
            heart.classList.add('heart-bg');
            heart.innerHTML = ['‚ù§Ô∏è', 'üíñ', 'üíó', 'üíì', 'üå∏'][Math.floor(Math.random() * 5)];
            heart.style.left = Math.random() * 100 + 'vw';
            heart.style.animationDuration = Math.random() * 5 + 7 + 's';
            heart.style.opacity = Math.random() * 0.4;
            const container = document.getElementById('hearts-container');
            if(container) container.appendChild(heart);
            setTimeout(() => heart.remove(), 10000);
        }
        setInterval(createBackgroundHeart, 500);

        // 2. Music logic optimized for mobile auto-play restrictions
        const music = document.getElementById('bgMusic');
        const musicIcon = document.getElementById('musicIcon');
        let isMusicStarted = false;

        function toggleMusic(event) {
            if (!music) return;
            if (event) event.stopPropagation();

            if (music.paused) {
                music.play().catch(() => {});
                musicIcon.innerText = "üîä";
            } else {
                music.pause();
                musicIcon.innerText = "üîá";
            }
            isMusicStarted = true;
        }

        // Mobile browsers need a user interaction to play audio
        document.body.addEventListener('click', () => {
            if (music && !isMusicStarted) {
                music.play().then(() => {
                    musicIcon.innerText = "üîä";
                    isMusicStarted = true;
                }).catch(() => {});
            }
        }, { once: true });

        // 3. Large Interactive Hearts (Mobile Optimized)
        function spawnInteractionHeart(x, y) {
            const heart = document.createElement('div');
            heart.classList.add('click-heart');
            heart.innerHTML = ['‚ù§Ô∏è', 'üíñ', 'üíó', '‚ú®', 'üåπ'][Math.floor(Math.random() * 5)];
            heart.style.left = x + 'px';
            heart.style.top = y + 'px';
            // Large size for visibility on small screens
            heart.style.fontSize = (Math.random() * 20 + 50) + 'px'; 
            document.body.appendChild(heart);
            setTimeout(() => heart.remove(), 1000);
        }

        // Standard desktop click
        document.addEventListener('mousedown', (e) => {
            if (e.target.closest('#musicToggle') || e.target.closest('button')) return;
            spawnInteractionHeart(e.pageX, e.pageY);
        });

        // Mobile touch
        document.addEventListener('touchstart', (e) => {
            if (e.target.closest('#musicToggle') || e.target.closest('button')) return;
            Array.from(e.touches).forEach(touch => {
                spawnInteractionHeart(touch.pageX, touch.pageY);
            });
        }, { passive: true });

        // 4. Envelope
        function toggleEnvelope(wrapper) {
            const env = wrapper.querySelector('.envelope');
            if(env) env.classList.toggle('open');
        }

        // 5. Dodging "No" Button (Mobile Safe Logic)
        function moveButton() {
            const btn = document.getElementById('noBtn');
            const container = document.getElementById('proposal');
            if (!btn || !container) return;
            
            // Set a safe area so it doesn't leave the screen or hide behind success text
            const rect = container.getBoundingClientRect();
            const btnRect = btn.getBoundingClientRect();
            
            const padding = 20;
            const maxWidth = rect.width - btnRect.width - padding;
            const maxHeight = rect.height - btnRect.height - padding;
            
            const randomX = Math.floor(Math.random() * maxWidth) + padding/2;
            const randomY = Math.floor(Math.random() * maxHeight) + padding/2;
            
            btn.style.left = randomX + 'px';
            btn.style.top = randomY + 'px';
        }

        // Initialize "No" button position so it's next to "Yes" on load
        window.onload = () => {
            const btn = document.getElementById('noBtn');
            const yesBtn = document.getElementById('yesBtn');
            if(btn && yesBtn) {
                // Center slightly below or to the side of Yes button initially
                btn.style.left = (yesBtn.offsetLeft + 120) + 'px';
                btn.style.top = yesBtn.offsetTop + 'px';
            }
        };

        function acceptValentine() {
            const btnContainer = document.getElementById('btn-container');
            const successMsg = document.getElementById('success-msg');
            
            if (btnContainer) btnContainer.classList.add('hidden');
            if (successMsg) {
                successMsg.classList.remove('hidden');
                setTimeout(() => {
                    successMsg.classList.add('opacity-100', 'scale-100');
                    // Scroll to see the message if needed
                    successMsg.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }, 50);
            }

            // Explosion effect
            for(let i = 0; i < 35; i++) {
                setTimeout(() => {
                    spawnInteractionHeart(
                        Math.random() * window.innerWidth,
                        Math.random() * window.innerHeight + window.scrollY
                    );
                }, i * 60);
            }
        }

        // Scroll animations
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, { threshold: 0.15 });

        document.querySelectorAll('.memory-card').forEach(card => {
            card.style.opacity = '0';
            card.style.transform = 'translateY(20px)';
            observer.observe(card);
        });
    </script>
</body>
</html>
